**æŠ˜åŠæŸ¥æ‰¾æ¨¡æ¿ï¼š(ä¸¤ç§ä¸åŒçš„posä½ç½®)**ğŸ‘»

```c++
// pos ä¹‹å‰(ä¸åŒ…æ‹¬pos)å…¨æ˜¯æ¯” target å°çš„å€¼  [left, pos)
int left = 1, right = len, pos = 0;
while(left <= right) {
    int mid = left + (right - left) / 2;
    if(target > dp[mid]) {
        left = mid + 1;
    } else {
        right = mid - 1;
        pos = mid;
    }
}

// [left, pos]å…¨æ˜¯æ¯” target å°çš„å€¼
int left = 1, right = len, pos = 0;
while(left <= right) {
    int mid = left + (right - left) / 2;
    if(target > dp[mid]) {
        left = mid + 1;
        pos = mid;
    } else {
        right = mid - 1;
    }
}
```

## æ™®é€š

æ‰¾åˆ°ç›¸ç­‰çš„å€¼ï¼Œè¿™ç§æƒ…å†µæœ€ç®€å•ã€‚

```c++
class Solution {
public:
    int search(vector<int>& nums, int target) {
        int left = 0, right = nums.size()-1;
        int mid;
        while(left <= right) {
            mid = (left + right) / 2;
            if(nums[mid] == target) {
                return mid;
            }
            else if(nums[mid] > target) {
                right = mid - 1;
            }
            else {
                left = mid + 1;
            }
        }
        return -1;
    }
};
```

## è¿›é˜¶ï¼šæ‰¾åˆ°æœ€åä¸€ä¸ªå°äºå½“å‰å€¼çš„ç´¢å¼•

[æœ€é•¿é€’å¢å­åºåˆ—](https://leetcode.cn/problems/longest-increasing-subsequence/)

```c++
class Solution {
public:
    int lengthOfLIS(vector<int>& nums) {
        if(nums.size() == 0) return 0;
        vector<int> dp(nums.size() + 1);
        int len = 1;
        dp[0] = 10e6;
        dp[len] = nums[0];
        for(int i = 1; i < nums.size(); i++){
            if(nums[i] > dp[len]) {
                len++;
                dp[len] = nums[i];
            }
            else {
                //åœ¨dpä¸­æ‰¾åˆ°æœ€åä¸€ä¸ªå°äºäºnum[i]çš„å€¼
                //åœ¨æœ‰lefå’Œrightçš„åŸºç¡€ä¸Šå¢åŠ äº† pos å˜é‡
                int left = 1, right = len, pos = 0; 
                int mid;
                while(left <= right) {
                    mid = (left + right) / 2;
                    if(dp[mid] >= nums[i]) { //å¤§äºç­‰äºæ—¶å°±ç§»åŠ¨å³æŒ‡é’ˆ
                        right = mid - 1;
                    }
                    else if(dp[mid] < nums[i]) { //å°äºçš„æ—¶å€™å°±ç§»åŠ¨å·¦æŒ‡é’ˆ
                        left = mid + 1;
                        //ä½†æ˜¯è¦æŠŠå½“å‰ç´¢å¼•ä¿å­˜ä¸‹æ¥ï¼Œå› ä¸ºåªçŸ¥é“å€¼å°äºnums[i]ï¼Œ
                        //ä¸çŸ¥é“æ˜¯ä¸æ˜¯æœ€åä¸€ä¸ªå°äºnum[i]çš„ï¼Œè¦æŠŠå®ƒä¿å­˜ä¸‹æ¥ã€‚
                        //å¦‚æœæ˜¯ï¼Œé‚£ä¹ˆleft = mid + 1åå°±ä¸æ»¡è¶³è¾¹ç•Œæ¡ä»¶äº†ï¼Œ
                        //åä¹‹ï¼Œè¿˜æ˜¯ä¼šæ»¡è¶³left == right
                        pos = mid;
                    }
                }
                dp[pos + 1] = nums[i];
            }
        }
        return len;

    }
};
```

