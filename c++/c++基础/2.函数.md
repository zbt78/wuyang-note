---

author:wuyangOuO

---

### 内联函数

1. 由编译器直接展开，将函数体插入在函数调用的地方。
2. 频繁使用的，简短的。
3. 如果函数声明和函数体分开写，只在函数声明时加了*inline*关键字，而在函数体上没加关键字，就会被当成普通函数。只有在函数体上也加了关键字才被当成内联函数。也就是说内敛函数声明时*inline*关键字必须和函数定义结合在一起，否则编译器会直接忽略内敛请求。
4. 如果函数体比较复杂，有可能不会被当初内联函数处理

### 默认参数

```c++
int get_volumn(int length, int weidth, int  height);
```

### 占位参数

```c++
int fun(int x,int);
//使用fun函数必须传入两个参数
```

### 函数重载

1. 函数名相同，参数列表不同（形参参数个数，形参参数类型，形参参数顺序）。
2. 函数返回值并不构成重载条件。
3. 如果要是函数重载的话，不要写默认参数，为了避免调用出现函数冲突。
4. 如果有完全匹配的，就调用完全匹配的（实参和形参类型一致）。如果有经过隐式转换后匹配的，就调用隐式转换的。

```c++
void fun(int a);
void fun(char a);
void fun(char a, char b);
void fun(int a, char b);
char fun(int a);//与第一个函数冲突
```

### 函数重载和函数指针

```c++
int fun(int a, int b)
{
    cout<<"fun"<<endl;
    return 0;
}
int fun(int a, int b, int c)
{
    cout<<"fun"<<endl;
    return 0;
}

//1 定义一种函数类型
typedef int(MY_FUN)(int, int);

//2 
typedef int(*MY_FUN_P)(int, int);

int main()
{
    //1
    MY_FUN *fp = NULL;
    fp = fun;
    fp(10,20);
    
    //2
    MY_FUN_P fp1 = NULL;
    fp1 = fun;
    fp1(10,20);

    //3
    int(*fp3)(int, int) = NULL;
    fp3 = fun;
    fp3(10,30);

    //在给函数指针赋值的时候，是会发生函数重载匹配的
    //在调用函数指针的时候，所调用的函数就已经固定了
    int(*fp4)(int, int, int) = NULL;
    fp4 = fun;
    fp4(10,20,30);
}
```

#### 函数指针

简单对函数指针做个补充，之前从来没见过。

如果在程序中定义了一个函数，那么在编译时系统就会为这个函数代码分配一段存储空间，这段存储空间的首地址称为这个函数的地址。而且函数名表示的就是这个地址。既然是地址我们就可以定义一个指针变量来存放，这个指针变量就叫作函数指针变量，简称函数指针。

```c++
int(*p)(int, int);
```

这个语句就定义了一个指向函数的指针变量 p。首先它是一个指针变量，所以要有一个“\*”，即（\*p）；其次前面的 int 表示这个指针变量可以指向返回值类型为 int 型的函数；后面括号中的两个 int 表示这个指针变量可以指向有两个参数且都是 int 型的函数。所以合起来这个语句的意思就是：定义了一个指针变量 p，该指针变量可以指向返回值类型为 int 型，且有两个整型参数的函数。p 的类型为 int(\*)(int，int)。

所以函数指针的定义方式为：

```c++
函数返回值类型 (* 指针变量名) (函数参数列表);
```

“函数返回值类型”表示该指针变量可以指向具有什么返回值类型的函数；“函数参数列表”表示该指针变量可以指向具有什么参数列表的函数。这个参数列表中只需要写函数的参数类型即可。

我们看到，函数指针的定义就是将“函数声明”中的“函数名”改成“（\*指针变量名）”。但是这里需要注意的是：“（\*指针变量名）”两端的括号不能省略，括号改变了运算符的优先级。如果省略了括号，就不是定义函数指针而是一个函数声明了，即声明了一个返回值类型为指针型的函数。

那么怎么判断一个指针变量是指向变量的指针变量还是指向函数的指针变量呢？首先看变量名前面有没有“\*”，如果有“\*”说明是指针变量；其次看变量名的后面有没有带有形参类型的圆括号，如果有就是指向函数的指针变量，即函数指针，如果没有就是指向变量的指针变量。

> 最后需要注意的是，指向函数的指针变量没有 ++ 和 -- 运算。

```c++
# include <stdio.h>
int Max(int, int);  //函数声明
int main(void)
{
    int a = 10, b = 20, c;
 	
    int(*p)(int, int);  //定义一个函数指针   
    p = Max;  //把函数Max赋给指针变量p, 使p指向Max函数
    
    c = (*p)(a, b);  //通过函数指针调用Max函数
    // c = p(a,b); 也是正确的
    
    printf("a = %d\nb = %d\nmax = %d\n", a, b, c);
    return 0;
}
int Max(int x, int y)  //定义Max函数
{
    int z;
    if (x > y)
    {
        z = x;
    }
    else
    {
        z = y;
    }
    return z;
}
```

